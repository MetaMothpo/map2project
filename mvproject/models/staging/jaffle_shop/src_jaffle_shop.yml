version: 2
version: 2
sources:
  - name: jaffle_shop
    database: "{% if target.name == 'dev' %}postgres{% elif target.name == 'prod' %}dev_database{% else %}invalid_database{% endif %}"
    schema: jaffle_shop
    tables:
      - name: customers
        description: "Customer information"
        columns:
          - name: customer_id
            description: "Primary key for this table"
            tests:
              - unique
              - not_null

      - name: orders
        description: "Customer order id"
        columns:
          - name: id
            description: "Unique order number"
            tests:
              - unique
              - not_null

  - name: dev_jaffle_shop                       
    database: dev_database
    schema: dev_jaffle_shop
    tables:
      - name: dev_customers
        description: 'dev customer information'
      - name: dev_orders
        description: 'dev customer order id'


    

    
